webpackJsonp([0],{103:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var o=e(0),i=e(287),a=(e.n(i),e(288)),r=(e.n(a),e(27)),c=(e.n(r),this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r}),s=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},l=function(){function n(){this.showModal=new r.Subject,this.data=new r.Subject,this.dataSelect=new r.Subject}return n=c([Object(o.A)(),s("design:paramtypes",[])],n)}()},115:function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=115},156:function(n,t){function e(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id=156},196:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var o=e(99),i=e(0),a=e(16),r=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},c=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},s=function(){function n(n,t,e,o){var a=this;this.navCtrl=n,this.navParams=t,this.plt=e,this.mapProvider=o,this.changeList=new i.v,this.markers=[],this.lat=23.7221837,this.lng=-99.5119105,this.isDevice=!this.plt.is("core"),o.arrMarkers$.subscribe(function(n){0===n.length&&a.startMap(),a.clearMarkers(),n.forEach(function(n){a.addMarker(n.lat,n.lng,n.nombreEmpresa)})})}return n.prototype.ngAfterViewInit=function(){this.startMap()},n.prototype.startMap=function(){var n={center:new google.maps.LatLng(this.lat,this.lng),zoom:5,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.gmapElement.nativeElement,n),this.initMarker(19.39068,-99.2836964)},n.prototype.initMarker=function(n,t){var e=new google.maps.LatLng(n,t);this.marker=new google.maps.Marker({position:e,map:this.map,icon:"http://dondecomprar.poliflex.mx/bundles/poliflexapp/images/poi.png"}),this.marker.setMap(this.map)},n.prototype.addMarker=function(n,t,e){var o=new google.maps.LatLng(n,t),i=new google.maps.Marker({position:o,map:this.map,title:e,icon:"http://dondecomprar.poliflex.mx/bundles/poliflexapp/images/poi.png"});this.markers.push(i),this.setMapOnAll()},n.prototype.setMapOnAll=function(){for(var n=new google.maps.LatLngBounds,t=0;t<this.markers.length;t++)this.markers[t].setMap(this.map),n.extend(this.markers[t].getPosition());this.markers.forEach(function(n){n.addListener("click",function(t){console.log(t.latLng.lng()),console.log(n.getTitle())})}),this.map.fitBounds(n),this.map.panToBounds(n),this.isDevice&&this.map.setZoom(12)},n.prototype.clearMarkers=function(){for(var n=0;n<this.markers.length;n++)this.markers[n].setMap(null);this.markers=[]},n.prototype.changeToList=function(){this.changeList.emit()},r([Object(i.O)(),c("design:type",i.v)],n.prototype,"changeList",void 0),r([Object(i._8)("gmap2"),c("design:type",i.t)],n.prototype,"gmapElement",void 0),n=r([Object(i.m)({selector:"page-general-maps",template:'<ion-header *ngIf="isDevice">\n\n    <ion-toolbar fix color="secondary">\n\n        <ion-buttons right>\n\n            <button ion-button icon-left (click)="changeToList()">\n\n                <ion-icon name="list"> </ion-icon>\n\n                Resultados\n\n            </button>\n\n        </ion-buttons>\n\n        <ion-title>Ubicación</ion-title>\n\n    </ion-toolbar>\n\n</ion-header>\n\n\n\n<div #gmap2 class="map-full"></div>'}),c("design:paramtypes",[a.e,a.f,a.g,o.a])],n)}()},201:function(n,t,e){"use strict";e.d(t,"a",function(){return c});var o=e(0),i=e(16),a=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},r=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},c=function(){function n(n,t){this.navCtrl=n,this.plt=t,this.showMap=!1,this.isDevice=!this.plt.is("core")}return n.prototype.changeMap=function(n){this.showMap=!this.showMap,this.dataUser=n,console.log(this.dataUser)},n=a([Object(o.m)({selector:"page-home",template:'<ion-header>\n\n  <ion-navbar color="primary">\n\n    <ion-title>Poliflex</ion-title>\n\n  </ion-navbar>\n\n</ion-header>\n\n\n\n<page-general-modal></page-general-modal>\n\n<ion-content>\n\n  <div *ngIf="isDevice;then device else desktop "></div>\n\n\n\n  <ng-template #desktop>\n\n    <ion-grid class="full-size" no-padding>\n\n      <ion-row class="full-size">\n\n        <ion-col col-md-4>\n\n          <page-list-client></page-list-client>\n\n        </ion-col>\n\n        <ion-col class="full-size">\n\n          <page-general-maps></page-general-maps>\n\n        </ion-col>\n\n      </ion-row>\n\n    </ion-grid>\n\n  </ng-template>\n\n\n\n  <ng-template #device>\n\n    <page-list-client padding (changeMap)="changeMap($event)" [dataUser]="dataUser" *ngIf="!showMap"></page-list-client>\n\n\n\n    <page-general-maps [hidden]=!showMap (changeList)="showMap = !showMap"></page-general-maps>\n\n\n\n  </ng-template>\n\n</ion-content>'}),r("design:paramtypes",[i.e,i.g])],n)}()},202:function(n,t,e){"use strict";e.d(t,"a",function(){return c});var o=e(0),i=e(16),a=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},r=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},c=function(){function n(n,t,e){this.navCtrl=n,this.navParams=t,this.plt=e,this.showMap=!1,this.isDevice=!this.plt.is("core")}return n.prototype.changeMap=function(){this.showMap=!this.showMap},n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad StateMachineDetailPage")},n=a([Object(o.m)({selector:"page-state-machine-detail",template:'<ion-header>\n\n  <ion-navbar color="primary">\n\n    \x3c!-- <button ion-button menuToggle>\n\n      <ion-icon name="menu"></ion-icon>\n\n    </button> --\x3e\n\n    <ion-buttons end>\n\n      <button ion-button icon-left *ngIf="isDevice && !showMap" (click)="changeMap()">\n\n        <ion-icon name="pin"> </ion-icon>\n\n        Mapa\n\n      </button>\n\n      <button ion-button icon-left *ngIf="isDevice && showMap" (click)="changeMap()">\n\n        <ion-icon name="list"> </ion-icon>\n\n        Resultados\n\n      </button>\n\n    </ion-buttons>\n\n    <ion-title>Poliflex</ion-title>\n\n  </ion-navbar>\n\n</ion-header>\n\n\n\n\n\n<ion-content>\n\n  <ion-grid class="full-size" no-padding *ngIf="!isDevice">\n\n    <ion-row class="full-size">\n\n      <ion-col col-md-4>\n\n        <page-item-detail></page-item-detail>\n\n      </ion-col>\n\n      <ion-col class="full-size">\n\n        <page-general-maps></page-general-maps>\n\n      </ion-col>\n\n    </ion-row>\n\n\n\n  </ion-grid>\n\n\n\n  <page-item-detail *ngIf="isDevice && !showMap"></page-item-detail>\n\n  <page-general-maps *ngIf="isDevice && showMap"></page-general-maps>\n\n\n\n</ion-content>'}),r("design:paramtypes",[i.e,i.f,i.g])],n)}()},203:function(n,t,e){"use strict";e.d(t,"a",function(){return p});var o=e(6),i=(e.n(o),e(100)),a=e(0),r=e(283),c=e(284),s=(e.n(c),this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r}),l=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},p=function(){function n(n){this.http=n}return n.prototype.getState=function(){return this.http.get(r.a.STATE)},n.prototype.getCity=function(n){return this.http.get(r.a.CITY+n)},n.prototype.getClient=function(n,t){return this.http.get(r.a.CLIENT+n+"/"+t)},n.prototype.getClientDetails=function(n){return this.http.get(r.a.CLIENT_DETAILS+n).map(function(n){return n.result}).catch(function(n){return o.Observable.throw(n)})},n=s([Object(a.A)(),l("design:paramtypes",[i.a])],n)}()},205:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e(206),i=e(226);Object(o.a)().bootstrapModule(i.a)},226:function(n,t,e){"use strict";e.d(t,"a",function(){return R});var o=e(33),i=e(0),a=e(16),r=e(268),c=e(201),s=e(202),l=e(281),p=e(196),u=e(282),d=e(289),f=e(103),h=e(198),m=e(200),g=e(12),b=e(290),y=e(204),v=e(100),M=e(203),w=e(99),I=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},R=function(){function n(){}return n=I([Object(i.I)({declarations:[r.a,c.a,u.a,p.a,l.a,s.a,d.a],imports:[o.a,a.c.forRoot(r.a,{animate:!1},{links:[]}),g.a,v.b,b.a],bootstrap:[a.a],entryComponents:[r.a,c.a,u.a,p.a,l.a,s.a,d.a],providers:[h.a,m.a,{provide:i.u,useClass:a.b},f.a,M.a,y.a,w.a]})],n)}()},268:function(n,t,e){"use strict";e.d(t,"a",function(){return u});var o=e(196),i=e(0),a=e(16),r=e(198),c=e(200),s=e(201),l=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},p=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},u=function(){function n(n,t,e){this.platform=n,this.statusBar=t,this.splashScreen=e,this.rootPage=s.a,this.initializeApp(),this.pages=[{title:"Home",component:s.a},{title:"map",component:o.a}]}return n.prototype.initializeApp=function(){var n=this;this.platform.ready().then(function(){n.statusBar.styleDefault(),n.splashScreen.hide()})},n.prototype.openPage=function(n){this.nav.setRoot(n.component)},l([Object(i._8)(a.d),p("design:type",a.d)],n.prototype,"nav",void 0),n=l([Object(i.m)({template:'<ion-menu [content]="content">\n\n  <ion-header>\n\n    <ion-toolbar>\n\n      <ion-title>Menu</ion-title>\n\n    </ion-toolbar>\n\n  </ion-header>\n\n\n\n  <ion-content>\n\n    <ion-list>\n\n      <button menuClose ion-item *ngFor="let p of pages" (click)="openPage(p)">\n\n        {{p.title}}\n\n      </button>\n\n    </ion-list>\n\n  </ion-content>\n\n\n\n</ion-menu>\n\n\n\n\x3c!-- Disable swipe-to-go-back because it\'s poor UX to combine STGB with side menus --\x3e\n\n<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>'}),p("design:paramtypes",[a.g,r.a,c.a])],n)}()},281:function(n,t,e){"use strict";e.d(t,"a",function(){return c});var o=e(0),i=e(16),a=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},r=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},c=function(){function n(n,t){this.navCtrl=n,this.navParams=t}return n.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ItemDetailPage")},n=a([Object(o.m)({selector:"page-item-detail",template:'\x3c!--\n\n  Generated template for the ItemDetailPage page.\n\n\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n\n  Ionic pages and navigation.\n\n--\x3e\n\n<ion-toolbar color="secondary">\n\n  <button ion-button menuToggle>\n\n    <ion-icon name="md-arrow-back"></ion-icon>\n\n  </button>\n\n  <ion-title>Buscar</ion-title>\n\n\n\n</ion-toolbar>\n\n\n\n\n\n<ion-content padding>\n\n  <ion-card>\n\n    <ion-navbar color="light2">\n\n      <ion-card-title>\n\n        Nombre\n\n      </ion-card-title>\n\n    </ion-navbar>\n\n    \x3c!-- <ion-item>\n\n      <ion-avatar item-start>\n\n        <ion-icon name="md-contact" item-start></ion-icon>\n\n      </ion-avatar>\n\n      <h2>Nombre</h2>\n\n    </ion-item> --\x3e\n\n\n\n    <ion-card-content>\n\n      <ion-list>\n\n        <ion-item>\n\n          Dirección\n\n        </ion-item>\n\n        <ion-item>\n\n          Contacto\n\n        </ion-item>\n\n        <ion-item>\n\n          Telefono\n\n        </ion-item>\n\n        <ion-item>\n\n          Web\n\n        </ion-item>\n\n      </ion-list>\n\n    </ion-card-content>\n\n  </ion-card>\n\n  <ion-grid>\n\n    <ion-chip color="light2">\n\n      <ion-label>\n\n        Productos que ofrecen\n\n      </ion-label>\n\n    </ion-chip>\n\n  </ion-grid>\n\n  <ion-list inset>\n\n    <ion-item>\n\n      <ion-icon item-start name="md-help-buoy"></ion-icon>\n\n      <ion-label>\n\n        Producto1\n\n      </ion-label>\n\n      <div class="item-note" item-end>\n\n        notas\n\n      </div>\n\n    </ion-item>\n\n    <ion-item>\n\n      <ion-icon item-start name="md-help-buoy"></ion-icon>\n\n      <ion-label>\n\n        Producto1\n\n      </ion-label>\n\n      <div class="item-note" item-end>\n\n        notas\n\n      </div>\n\n    </ion-item>\n\n    <ion-item>\n\n      <ion-icon item-start name="md-help-buoy"></ion-icon>\n\n      <ion-label>\n\n        Producto1\n\n      </ion-label>\n\n      <div class="item-note" item-end>\n\n        notas\n\n      </div>\n\n    </ion-item>\n\n    <ion-item>\n\n      <ion-icon item-start name="md-help-buoy"></ion-icon>\n\n      <ion-label>\n\n        Producto1\n\n      </ion-label>\n\n      <div class="item-note" item-end>\n\n        notas\n\n      </div>\n\n    </ion-item>\n\n  </ion-list>\n\n\n\n</ion-content>'}),r("design:paramtypes",[i.e,i.f])],n)}()},282:function(n,t,e){"use strict";e.d(t,"a",function(){return f});var o=e(6),i=(e.n(o),e(203)),a=e(202),r=e(0),c=e(16),s=e(204),l=e(103),p=e(99),u=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},d=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},f=function(){function n(n,t,e,o,i,a,c,s){this.navCtrl=n,this.navParams=t,this.plt=e,this.dataService=o,this.geolocation=i,this.modalCtr=a,this.mapProvider=c,this.toastCtrl=s,this.changeMap=new r.v,this.showMap=!1,this.states=[],this.statesModal=[],this.cities=[],this.citiesModal=[],this.isLoad=!1,this.isSearch=!0,this.spinner=!1,this.errorGeneral=!1,this.isDevice=!this.plt.is("core")}return n.prototype.ngOnInit=function(){this.getStates(),this.dataUser&&(console.log(this.dataUser),this.stateInput=this.dataUser.stateInput,this.getCity(this.stateInput),this.cityInput=this.dataUser.cityInput,this.getClients(),this.changeToList())},n.prototype.getStates=function(){var n=this;this.states.length=0,this.statesModal.length=0,this.dataService.getState().map(function(n){return n.results}).subscribe(function(t){t.forEach(function(t){n.states.push({label:t,value:t}),n.statesModal.push(t),n.isLoad=!0})})},n.prototype.getCity=function(n){var t=this;this.spinner=!0,this.cityInput=null,this.cities.length=0,this.citiesModal.length=0,this.dataService.getCity(n).map(function(n){return n.results}).subscribe(function(n){t.spinner=!1,n.forEach(function(n,e){t.cities.push({label:n,value:n}),t.citiesModal[e]=n})})},n.prototype.onSelectedState=function(n){this.getCity(n.value)},n.prototype.onDeselectedState=function(){this.cities.length=0,this.cityInput="",this.mapProvider.setMarkers([])},n.prototype.onDeselectedCity=function(){this.mapProvider.setMarkers([])},n.prototype.goToItemDetail=function(n){this.navCtrl.push(a.a,n)},n.prototype.activeGeoLacalitation=function(){var n=this;this.isGeoActive&&this.geolocation.getCurrentPosition().then(function(t){n.mapProvider.getLocalitation(t.coords.latitude,t.coords.longitude).subscribe(function(t){var e=n.filter(t.results[0].address_components);console.log(t),n.stateInput=e.state,n.cityInput=e.city,n.getClients(),n.clients$.subscribe(function(t){t?n.changeToList():n.errorToast()})})}).catch(function(n){console.log("Error getting location",n)})},n.prototype.filter=function(n){var t={city:"",state:""};return n.forEach(function(n){n.types.forEach(function(e){"administrative_area_level_2"===e&&(t.city=n.long_name),"administrative_area_level_1"===e&&(t.state=n.long_name)})}),t},n.prototype.changeToList=function(){this.isSearch=!1},n.prototype.getClients=function(){var n=this;this.clients$=this.dataService.getClient(this.stateInput,this.cityInput).map(function(n){return n.results}).catch(function(n){return o.Observable.throw(n)});var t=[];this.clients$.subscribe(function(e){e&&(e.forEach(function(n,e){t[e]={lat:+n.latitude,lng:+n.longitude,nombreEmpresa:n.nombreEmpresa}}),n.mapProvider.setMarkers(t))})},n.prototype.backSearch=function(){this.isSearch=!this.isSearch},n.prototype.openModal=function(){var n=this;this.modalCtr.data.next({category:"state",dataArray:this.statesModal}),this.modalCtr.showModal.next(!0),this.modalCtr.dataSelect.subscribe(function(t){"state"===t.category&&(n.stateInput=t.data,n.getCity(t.data))})},n.prototype.openModalCity=function(){var n=this;this.modalCtr.data.next({category:"city",dataArray:this.citiesModal}),this.modalCtr.showModal.next(!0),this.modalCtr.dataSelect.subscribe(function(t){"city"===t.category&&(n.cityInput=t.data,n.getClients())})},n.prototype.changeToMap=function(){console.log("a"),this.changeMap.emit({stateInput:this.stateInput,cityInput:this.cityInput})},n.prototype.errorToast=function(){this.cityInput=null,this.stateInput=null;var n=this.toastCtrl.create({message:"No se encontro ubicación, ingrese manualmente en formulario",duration:6e3,position:"bottom"});n.onDidDismiss(function(){}),n.present()},u([Object(r.O)(),d("design:type",r.v)],n.prototype,"changeMap",void 0),u([Object(r.D)(),d("design:type",Object)],n.prototype,"dataUser",void 0),n=u([Object(r.m)({selector:"page-list-client",template:'<ion-header>\n\n  <ion-toolbar [ngClass]="{Fix: isDevice}" color="secondary">\n\n    <ion-buttons left>\n\n      \x3c!-- Botones de toolbar --\x3e\n\n      <button ion-button icon-left icon-only *ngIf="isSearch">\n\n        <ion-icon name="search"> </ion-icon>\n\n      </button>\n\n      <button ion-button icon-left icon-only *ngIf="!isSearch" (click)=" this.isSearch = !this.isSearch; ">\n\n        <ion-icon name="md-arrow-back"> </ion-icon>\n\n      </button>\n\n    </ion-buttons>\n\n    \x3c!-- Botones de toolbar solo para movil --\x3e\n\n    <ion-buttons right *ngIf="isDevice && cityInput && stateInput ">\n\n      <button ion-button icon-left (click)="changeToMap()">\n\n        <ion-icon name="pin"> </ion-icon>\n\n        Mapa\n\n      </button>\n\n    </ion-buttons>\n\n    \x3c!-- Estados de titulo --\x3e\n\n    <ion-title *ngIf="isSearch">Buscar</ion-title>\n\n    <ion-title *ngIf="!isSearch">Regresar a búsqueda</ion-title>\n\n  </ion-toolbar>\n\n</ion-header>\n\n\n\n\n\n<ion-content>\n\n  \x3c!-- Se decide entre dos estados --\x3e\n\n  <div *ngIf="isSearch;then search else list "></div>\n\n  \x3c!-- Inicia estado de buscar --\x3e\n\n  <ng-template #search>\n\n    <ion-grid padding>\n\n      <ion-row padding-left padding-right padding-top>\n\n        <ion-label text-wrap>\n\n          <h5>Activar ubicación automática</h5>\n\n          <ion-toggle mode="md" [(ngModel)]="isGeoActive" (ionChange)="activeGeoLacalitation()"></ion-toggle>\n\n        </ion-label>\n\n      </ion-row>\n\n      <ion-row *ngIf="isLoad" padding>\n\n        <h5>Complete los campos</h5>\n\n        \x3c!-- Para escritorio --\x3e\n\n        <ng-select *ngIf="!isDevice" placeholder="Selecciona un estado:" [options]="states" [allowClear]="true" (selected)="onSelectedState($event)"\n\n          (deselected)="onDeselectedState()" [(ngModel)]="stateInput">\n\n        </ng-select>\n\n        \x3c!-- Para movil --\x3e\n\n        <ion-item *ngIf="isDevice">\n\n          <ion-label color="primary" floating>Selecciona un estado:</ion-label>\n\n          <ion-input [(ngModel)]="stateInput" (ionFocus)="openModal()" autocomplete></ion-input>\n\n        </ion-item>\n\n      </ion-row>\n\n      <ion-row *ngIf="spinner">\n\n        <ion-spinner name="bubbles"></ion-spinner>\n\n      </ion-row>\n\n      <ion-row *ngIf="cities.length !==0" padding>\n\n        \x3c!-- Para escritorio --\x3e\n\n        <ng-select *ngIf="!isDevice" placeholder="Selecciona una ciudad:" [options]="cities" [allowClear]="true" [(ngModel)]="cityInput"\n\n          (selected)="getClients()" (deselected)="onDeselectedCity()">\n\n        </ng-select>\n\n        \x3c!-- Para movil --\x3e\n\n        <ion-item *ngIf="isDevice">\n\n          <ion-label color="primary" floating>Selecciona una ciudad:</ion-label>\n\n          <ion-input [(ngModel)]="cityInput" (ionFocus)="openModalCity()" autocomplete></ion-input>\n\n        </ion-item>\n\n\n\n      </ion-row>\n\n      <ion-row *ngIf="cityInput && stateInput" padding-left>\n\n        <button ion-button round (click)="changeToList();">Ver Listado</button>\n\n      </ion-row>\n\n    </ion-grid>\n\n  </ng-template>\n\n  \x3c!-- Estado de listado --\x3e\n\n  <ng-template #list>\n\n    <br>\n\n    <ion-grid padding>\n\n      <ion-chip color="light2">\n\n        <ion-label>\n\n          Distribuidores\n\n        </ion-label>\n\n      </ion-chip>\n\n    </ion-grid>\n\n    <ion-list text-wrap>\n\n      <button ion-item *ngFor="let client of clients$ | async " (click)="goToItemDetail(client)">\n\n        <ion-avatar item-start>\n\n          <img src="http://dondecomprar.poliflex.mx/bundles/poliflexapp/images/poliflex_30x30.png">\n\n        </ion-avatar>\n\n        {{client.nombreEmpresa}}\n\n        <p>{{client.direccion}}</p>\n\n      </button>\n\n    </ion-list>\n\n  </ng-template>\n\n\n\n</ion-content>'}),d("design:paramtypes",[c.e,c.f,c.g,i.a,s.a,l.a,p.a,c.h])],n)}()},283:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var o="http://poliflex.qainformatica.com.mx/api/",i=Object.freeze({STATE:o+"estados",CITY:o+"ciudades/",CLIENT:o+"clientes/",CLIENT_DETAILS:o+"clientes/",ICONS:"http://dondecomprar.poliflex.mx/uploads/documents/"})},289:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var o=e(0),i=e(16),a=e(103),r=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},c=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},s=function(){function n(n,t,e){var o=this;this.navCtrl=n,this.navParams=t,this.modalCtr=e,this.myModal=!1,this.collection$=[],this.collection=[],this.modalCtr.data.subscribe(function(n){o.collection=n.dataArray,o.collection$=n.dataArray,o.category=n.category}),this.modalCtr.showModal.subscribe(function(n){n?o.showModal():o.myModal=!1})}return n.prototype.showModal=function(){this.myModal=!0,this.myInput=""},n.prototype.onInput=function(n){var t=n.target.value;this.collection=t&&""!=t.trim()?this.collection.filter(function(n){return n.toLowerCase().indexOf(t.toLowerCase())>-1}):this.collection$},n.prototype.onCancel=function(n){this.collection=this.collection$},n.prototype.onSelect=function(n){this.myInput=n},n.prototype.selectItem=function(){this.modalCtr.dataSelect.next({category:this.category,data:this.myInput}),this.modalCtr.showModal.next(!1)},n.prototype.cancel=function(){this.modalCtr.showModal.next(!1)},n=r([Object(o.m)({selector:"page-general-modal",template:'<div class="modal-out" *ngIf="myModal">\n\n  <div class="modal-inside">\n\n    <div class="modal-center">\n\n      <ion-header no-border>\n\n        <ion-toolbar color="primary">\n\n          <ion-searchbar #searchItem placeholder="Buscar..." mode="md" [(ngModel)]="myInput" [showCancelButton]="true" (ionInput)="onInput($event)"\n\n            (ionCancel)="onCancel($event)">\n\n          </ion-searchbar>\n\n        </ion-toolbar>\n\n      </ion-header>\n\n      <ion-grid class="modal-guts">\n\n        <ion-row>\n\n          <ion-list no-lines>\n\n            <button mode="md" ion-item *ngFor="let item of collection" (click)="onSelect(item)">\n\n              <ion-label>\n\n                {{item}}\n\n              </ion-label>\n\n            </button>\n\n          </ion-list>\n\n        </ion-row>\n\n      </ion-grid>\n\n      <ion-footer text-right no-border>\n\n        <button ion-button clear [disabled]="!myInput" (click)="selectItem()">Seleccionar</button>\n\n        <button ion-button color="danger" clear (click)="cancel()">Cancelar</button>\n\n      </ion-footer>\n\n    </div>\n\n  </div>\n\n</div>'}),c("design:paramtypes",[i.e,i.f,a.a])],n)}()},99:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var o=e(27),i=(e.n(o),e(100)),a=e(0),r=this&&this.__decorate||function(n,t,e,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,t,e,o);else for(var c=n.length-1;c>=0;c--)(i=n[c])&&(r=(a<3?i(r):a>3?i(t,e,r):i(t,e))||r);return a>3&&r&&Object.defineProperty(t,e,r),r},c=this&&this.__metadata||function(n,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,t)},s=function(){function n(n){this.http=n,this.arrMarkers$=new o.Subject,this.API_Key="AIzaSyDMzptCTUeHTmppIcYL9-H9mFdKrhb7-A0"}return n.prototype.setMarkers=function(n){this.arrMarkers$.next(n)},n.prototype.getLocalitation=function(n,t){var e=n.toString(),o=t.toString();return this.http.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+o+"&result_type=administrative_area_level_2&key="+this.API_Key)},n=r([Object(a.A)(),c("design:paramtypes",[i.a])],n)}()}},[205]);